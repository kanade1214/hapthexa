# HaptHexa

HaptHexaは、六脚ロボットの遠隔操縦システムを実現するために開発されたロボットプラットフォームです。  
本プロジェクトは、労働力不足が深刻な日本において、災害救助、物流、警備などの現場での活用を目指し、Shared Control（共有制御）の概念を取り入れた先進的な制御方式を実装しています。

## 背景

日本では少子高齢化に伴い労働力の減少が社会問題となっており、特に建設、農業、災害対応などの分野でロボット技術の需要が高まっています。  
多脚ロボットは、各脚が独立して動作することで不整地や段差を踏破できるため、従来の車輪型ロボットでは難しかった環境でも高い走破性を発揮します。  
本プロジェクトでは、六脚ロボット「HaptHexa」に対し、人間の直感的な操作とコンピュータによる自動補正を組み合わせたShared Control方式を採用し、安定かつ効率的な遠隔操縦を実現しています。  
:contentReference[oaicite:0]{index=0}

## 特徴

- **六脚構造による高い走破性**  
  各脚は3軸の自由度を持ち、ROBOTIS社製 Dynamixel XM430-W350-Tを採用。  
- **多様なセンサ統合**  
  各脚先端に3軸床反力センサ、姿勢推定用に9軸IMUを搭載し、リアルタイムでのフィードバックを実現。  
- **分散処理アーキテクチャ**  
  ロボット側の低レイヤー処理はオンボード（例：Raspberry Pi）で行い、複雑な歩容計算や逆運動学処理はリモートPCで実施。  
- **Shared Controlによる操縦支援**  
  オペレーターからの高レベルな指示と、センサ情報に基づく自動補正を組み合わせ、難解な不整地でも安全な操作をサポート。  
- **無線通信による遠隔操縦**  
  Wi-Fiおよび5.8GHz帯無線を活用し、低遅延で双方向のデータ通信と映像配信を実現。  
:contentReference[oaicite:1]{index=1}

## ハードウェア構成

- **ロボット本体**  
  - 六脚構造（各脚：3自由度のアクチュエータ）  
  - 各脚先端に3軸床反力センサ  
  - 9軸IMUによる姿勢検出  
  - 中央部に制御用コンピュータおよびバッテリー搭載

- **オンボードコンピュータ**  
  - Raspberry Pi（低消費電力・軽量設計）

- **通信システム**  
  - 内蔵無線モジュール（Wi-Fi、5.8GHz帯）によるデータおよび映像の双方向通信  
  
## ソフトウェア構成

- **ROS2を活用したモジュール化設計**  
  各種センサデータの取得、歩容生成、逆運動学、アクチュエータ制御をモジュール単位で実装。  
- **Shared Controlシステム**  
  オペレーターの入力と、床反力センサなどから得られる環境情報に基づく自動歩容補正の統合。  
- **分散処理による負荷軽減**  
  センサやモータの低レイヤー処理はロボット側で、複雑な計算処理はリモートPC側で分担することで、リアルタイム性を維持。  
:contentReference[oaicite:2]{index=2}

## Getting Started

### 前提条件
- ROS2 (Foxy, Galactic 等)
- Python 3
- C++ コンパイラ
- 対応するハードウェア（Raspberry Pi、各種センサ、Dynamixelサーボモータなど）

### インストール

1. **リポジトリのクローン**

    ```bash
   git clone https://github.com/kanade1214/hapthexa.git
   cd hapthexa

2. **依存パッケージのインストール**　<br>
各パッケージの依存関係は package.xml に記載されていますので、必要なパッケージをインストールしてください。

3. **ビルド**

    ```bash
    colcon build --symlink-install

4. **環境セットアップ**

    ```bash  
      source install/setup.bash
5. **使い方**　<br>
各モジュールはROS2のノードとして起動できます。例えば、以下のようにローンチファイルを用いてシステム全体を起動してください。

    ```bash
    ros2 launch hapthexa_dxl_servo launch.py
    ros2 launch hapthexa_main launch.py
オペレーター用インターフェース（コントローラー入力、映像配信など）の詳細は、各パッケージ内のドキュメントおよびコードコメントを参照してください。

開発および貢献
HaptHexaはオープンソースプロジェクトです。
バグ報告、機能改善の提案、プルリクエストなど、どなたでも歓迎します。

ライセンス
本プロジェクトはMITライセンスの下で公開されています。
詳細は LICENSE をご参照ください。

参考文献
多田 有佑，“不整地歩行のための床反力センサを持つ六足ロボットの開発”
清住 空樹，“不整地における6脚移動ロボットのジャイロセンサを用いた姿勢制御”
山下 滉明，“床反力センサを用いた六脚ロボットの不整地歩行”
田所 聡、アダム ジェイコフ、「応答ロボットのパフォーマンス メトリクス」
詳しい技術背景や評価実験の結果については、添付の論文および関連ドキュメントを参照してください。
